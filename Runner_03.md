# Runner - здесь точно будет работа с зависимостями...

Метод проб и ошибок очень хорош. Но он не очень подходит в том случае, когда ты хочешь написать в блоге о том, как у тебя всё хорошо и ровно получается. Но это не про наш случай. Поэтому сейчас будет краткий разбор ошибок предыдущих частей.

### 1. Naming conventions best practices & структура проекта

Касательно **naming conventions** - это чисто косметическая правка, которая свелась к тому, что я переименовал папку `src` в `lib`. Мог бы об этом и не упоминать, но тогда была бы путаница. 

А поистину серьезные изменения коснулись файла настроек. Глобальный `settings.json`, который лежит в корне, я оставил себе как черновик про запас, а вот конфиги, которые будут реально использоваться в проекте, будут жить в папке `config`. И структура проекта на данный момент такова:

```
root
|--index.js
|--package.json
|--settings.json
|--lib
|  |--intro.js
|  |--config-dependencies.js
|  |--helpers.js
|--config
|  |--deps.config.json
```

### 2. path

Всё с библиотекой хорошо. Точнее, будет хорошо, если на инициализации сохранить основные пути в переменные, делая их абсолютными при помощи метода `path.resolve()`. 
> [`index.js`](https://github.com/alexnaidovich/runner/blob/master/index.js#L12)

```javascript
// paths
const dirname = __dirname;
const dir_lib = path.resolve(dirname, 'lib');
const dir_config = path.resolve(dirname, 'config');

// components
const [
  helpers, intro, configDependencies
] = [
  'helpers', 'intro', 'config-dependencies'
].map(component => require(path.join(dir_lib, component)));
```

> Прелесть глобальной общедоступной переменной `__dirname` заключается в том, что она всегда указывает на директорию **исходного** файла. А понадобится это нам для того, чтобы, к примеру, сохранять настройки в исходной папке CLI, а не в папке сайтика, который мы с помощью CLI генерируем.

